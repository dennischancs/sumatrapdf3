<!doctype html>
<html>

<head>
	<meta http-equiv="Content-Language" content="en-us">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Using OpenCppCoverage</title>
	<link rel="stylesheet" href="../sumatra.css" type="text/css" />
	<link rel="stylesheet" href="../notion.css" type="text/css" />
</head>

<body>
	<script type="text/javascript" src="../sumatra.js"></script>

	<div id="container">
		<div id="banner">
			<h1 style="display:inline;">Sumatra PDF
				<font size="-1">is a PDF, ePub, MOBI, CHM, XPS, DjVu, CBZ, CBR reader for Windows</font>
			</h1>
			<script type="text/javascript">
				document.write(navHtml());
			</script>
			<a id="donate" href="/backers.html">Donate</a>
		</div>
		<br/>
		<div id="center">
			<div class="content">
			<div class="notion-page" id="764b25da-299d-405f-8801-6ccb26b785d1"><div class="breadcrumbs"><div><a href="SumatraPDF-documentation.html">SumatraPDF documentation</a></div><div>/</div><div>Using OpenCppCoverage</div></div><div id="a7e465fc-8062-4930-bf1f-74de67005a42" class=""></div><div id="334995a7-2c9d-431e-b409-5fda462d623d" class="">I tried <a href="https://opencppcoverage.codeplex.com/">OpenCppCoverage</a> (https://github.com/Unity-Technologies/OpenCppCoverage) 0.9.3 on SumatraPDF.</div><div id="c6aa9d56-5d26-4e87-af73-2d23026fae79" class="">I installed 64-bit version from the installer on Win 10. I ran <code>OpenCppCoverage.exe --sources sumatra -- .\dbg64\SumatraPDF.exe</code>, opened a file, closed the program.</div><div id="ee8a9d1f-f4c8-4ecc-baf9-bf025be063d4" class=""><code>--sources</code> limits reporting to only files whose paths match a given pattern. Using sumatra for pattern matches all our source files, assuming the sources were checked out to <code>sumatrapdf</code> directory (because <code>sumatra</code> matches <code>sumatrapdf</code> in file path) and skips the sources for C/C++ libraries.</div><div id="0f6f94fe-8602-43b8-93fa-025f6b4136b0" class="">It generated <code>CoverageReport-${date}</code> directory with HTML report. There&#x27;s top-level index.html with links to html file for each module (SumatraPDF.exe in our case).</div><div id="ffbc21f5-1512-43df-be74-9fb629ebc075" class="">They recommend running on debug code.</div><div id="911f7e42-095a-43d1-ad78-ed634a0a9dde" class="">At the end it reports generating reports for system dlls, but also says can&#x27;t get symbols, so it doesn&#x27;t actually generate anything.</div><div id="8c76333c-b5f5-406f-90c2-ece903a5a2df" class="">The html report isn&#x27;t great. Another option would be to use <code>--export_type=binary</code> option which generates <code>SumatraPDF.cov</code> file and write html generator myself. I assume the format of <code>.cov</code> file is simple.</div><div id="832d3e9b-0d89-4a7d-b1e1-aa9bf72adbc0" class=""></div></div><hr><center><a href="https://notion.so/764b25da299d405f88016ccb26b785d1" target="_blank" class="suggest-change">suggest change to this page</a></center>
			</div>
		</div>
	</div>
</body>
</html>
